<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document Signing Dashboard</title>
    <link rel="stylesheet" href="css/document-signing.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Document Signing Dashboard</h1>
        <div class="user-info">
          <span id="userEmail"></span>
          <button id="logoutBtn" class="btn btn-secondary">Logout</button>
        </div>
      </header>

      <main>
        <!-- Upload Section -->
        <section class="upload-section">
          <h2>Send Document for Signing</h2>
          <div class="upload-area" id="uploadArea">
            <svg
              class="upload-icon"
              width="64"
              height="64"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="17 8 12 3 7 8"></polyline>
              <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
            <p>Drag & drop PDF here or click to browse</p>
            <input type="file" id="fileInput" accept=".pdf" hidden />
          </div>

          <div id="fileDetails" class="file-details" style="display: none">
            <div class="file-info">
              <span id="fileName"></span>
              <button id="removeFile" class="btn-icon">Ã—</button>
            </div>

            <form id="documentForm" class="document-form">
              <div class="form-group">
                <label for="docTitle">Document Title</label>
                <input type="text" id="docTitle" required />
              </div>

              <div class="form-group">
                <label for="docDescription">Description (Optional)</label>
                <textarea id="docDescription" rows="3"></textarea>
              </div>

              <div class="signers-section">
                <h3>Signers</h3>
                <div id="signersList" class="signers-list"></div>
                <button
                  type="button"
                  id="addSignerBtn"
                  class="btn btn-secondary"
                >
                  + Add Signer
                </button>
              </div>

              <button type="submit" class="btn btn-primary">
                Send for Signing
              </button>
            </form>
          </div>
        </section>

        <!-- Documents List -->
        <section class="documents-section">
          <div class="section-header">
            <h2>My Documents</h2>
            <div class="filter-tabs">
              <button class="tab-btn active" data-filter="all">All</button>
              <button class="tab-btn" data-filter="pending">Pending</button>
              <button class="tab-btn" data-filter="completed">Completed</button>
              <button class="tab-btn" data-filter="sent">Sent by Me</button>
              <button class="tab-btn" data-filter="received">Received</button>
            </div>
          </div>

          <div id="documentsList" class="documents-list">
            <div class="loading">Loading documents...</div>
          </div>
        </section>
      </main>
    </div>

    <!-- Modal for Adding Signers -->
    <div id="signerModal" class="modal">
      <div class="modal-content">
        <h3>Add Signer</h3>
        <form id="signerForm">
          <div class="form-group">
            <label for="signerName">Name</label>
            <input type="text" id="signerName" required />
          </div>
          <div class="form-group">
            <label for="signerEmail">Email</label>
            <input type="email" id="signerEmail" required />
          </div>
          <div class="form-group">
            <label for="signerRole">Role</label>
            <input
              type="text"
              id="signerRole"
              placeholder="e.g., Manager, Witness"
            />
          </div>
          <div class="modal-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeSignerModal()"
            >
              Cancel
            </button>
            <button type="submit" class="btn btn-primary">Add</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast"></div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-functions-compat.js"></script>
    <script src="config/firebase-config.js"></script>
    <script src="js/document-dashboard.js"></script>
  </body>
</html>
